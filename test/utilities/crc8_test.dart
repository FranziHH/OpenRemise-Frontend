import 'dart:typed_data';

import 'package:Frontend/utilities/crc8.dart';
import 'package:flutter_test/flutter_test.dart';

void main() {
  group('crc8', () {
    final List<int> data = [
      0x0B,
      0x0A,
      0x00,
      0x00,
      0x8E,
      0x40,
      0x00,
      0x0D,
      0x67,
      0x00,
      0x01,
      0x00,
    ];

    final List<int> decup = [
      0x05,
      0x55,
      0x02,
      0x2A,
      0x74,
      0x8B,
      0x96,
      0x73,
      0x61,
      0x8F,
      0xBB,
      0xCC,
      0x92,
      0x42,
      0x53,
      0x84,
      0x92,
      0x75,
      0x3D,
      0x4A,
      0x92,
      0xA5,
      0x98,
      0x6D,
      0x61,
      0x8C,
      0x9F,
      0x9F,
      0x88,
      0x68,
      0x8C,
      0xBA,
      0x9E,
      0x6F,
      0x51,
      0x63,
      0x8E,
      0x8B,
      0x6F,
      0x55,
      0x4E,
      0x86,
      0xBB,
      0xA5,
      0x7E,
      0x5E,
      0x75,
      0xAC,
      0xAC,
      0x75,
      0x49,
      0x52,
      0x9C,
      0xBC,
      0x89,
      0x4A,
      0x3D,
      0x84,
      0xC8,
      0xA1,
      0x5B,
      0x52,
      0x82,
      0xC9,
      0xBD,
      0x6B,
      0x47,
      0x68,
      0xAA,
      0xB7,
      0x65,
      0x2E,
      0x5A,
      0xAC,
      0xD1,
      0x8F,
      0x36,
      0x42,
      0x8A,
      0xBF,
      0xAA,
      0x59,
      0x42,
      0x76,
      0xA3,
      0x9F,
      0x66,
      0x43,
      0x72,
      0xB0,
      0xBC,
      0x91,
      0x54,
      0x67,
      0xAE,
      0xBD,
      0x8D,
      0x60,
      0x5F,
      0x83,
      0x96,
      0x82,
      0x5B,
      0x53,
      0x88,
      0xB7,
      0x9F,
      0x68,
      0x4C,
      0x6F,
      0xA9,
      0x98,
      0x5A,
      0x3C,
      0x58,
      0xA0,
      0xBF,
      0x9A,
      0x6B,
      0x5C,
      0x82,
      0xAF,
      0x9B,
      0x81,
      0x84,
      0x98,
      0xAE,
      0x8E,
      0x59,
      0x54,
      0x5E,
      0x7D,
      0x90,
      0x69,
      0x53,
      0x5D,
      0x7F,
      0xB1,
      0xA1,
      0x7B,
      0x8A,
      0x9B,
      0xA5,
      0x93,
      0x59,
      0x4C,
      0x77,
      0x9B,
      0xAA,
      0x66,
      0x32,
      0x65,
      0xA6,
      0xCA,
      0xA2,
      0x4E,
      0x58,
      0x93,
      0xAD,
      0xA5,
      0x5A,
      0x34,
      0x7C,
      0xB6,
      0xAC,
      0x65,
      0x28,
      0x6D,
      0xCA,
      0xC7,
      0x8C,
      0x48,
      0x56,
      0xA6,
      0x9F,
      0x62,
      0x50,
      0x60,
      0xAB,
      0xBF,
      0x73,
      0x3A,
      0x4C,
      0x98,
      0xD8,
      0x95,
      0x4C,
      0x5A,
      0x8B,
      0xCC,
      0xB8,
      0x4C,
      0x47,
      0x8A,
      0xBA,
      0xC6,
      0x6A,
      0x2C,
      0x5A,
      0x7D,
      0x95,
      0x82,
      0x40,
      0x5E,
      0x98,
      0xA9,
      0xB3,
      0x6F,
      0x52,
      0x9C,
      0xBE,
      0xAE,
      0x72,
      0x34,
      0x68,
      0x9F,
      0x90,
      0x79,
      0x4A,
      0x63,
      0xBD,
      0xA9,
      0x71,
      0x55,
      0x56,
      0xA5,
      0xC7,
      0x92,
      0x7E,
      0x6D,
      0x6E,
      0x93,
      0x6D,
      0x4B,
      0x56,
      0x74,
      0xB7,
      0xC3,
      0x77,
      0x5B,
      0x72,
      0xA0,
      0xC9,
      0x85,
      0x43,
      0x63,
      0x89,
      0x93,
      0x77,
      0x47,
      0x68,
      0x99,
      0x96,
      0x89,
      0x5D,
      0x60,
      0x9F,
      0xB2,
      0x97,
      0x8A,
      0x9A,
    ];

    test('List<int>', () {
      expect(data.length, 12);
      expect(crc8(data), 0x4C);
    });

    test('Uint8List', () {
      expect(data.length, 12);
      expect(crc8(Uint8List.fromList(data)), 0x4C);
    });

    test('DECUP', () {
      expect(decup.length, 261);
      expect(crc8(Uint8List.fromList(decup.sublist(2, 260)), 0x55), 0x9A);
    });
  });
}
